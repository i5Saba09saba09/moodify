"use strict";(self.webpackChunkmoodify=self.webpackChunkmoodify||[]).push([[373],{338:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(43),r=s(579);function i(e){let{id:t,emoji:s,title:i,desc:n,mins:l=5,accent:c="inspired",onComplete:o}=e;const d=Math.max(1,Math.round(60*Number(l))),[u,m]=(0,a.useState)(d),[h,p]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!1),j=(0,a.useRef)(null),g=(0,a.useRef)(null),f=(0,a.useRef)(!1),N=String(Math.floor(u/60)).padStart(2,"0"),w=String(u%60).padStart(2,"0"),b=(0,a.useMemo)(()=>(d-u)/d,[u,d]),y=Math.round(360*Math.min(1,Math.max(0,b)));function k(){clearTimeout(j.current),j.current=setTimeout(()=>{var e;const t=Date.now(),s=null!==(e=g.current)&&void 0!==e?e:t,a=Math.max(0,Math.ceil((s-t)/1e3));if(m(a),a<=0){p(!1),v(!0),g.current=null;try{var r;const e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&(null===(r=e.resume)||void 0===r||r.call(e));const t=e.createOscillator(),s=e.createGain();t.type="sine",t.frequency.value=880,t.connect(s),s.connect(e.destination),s.gain.setValueAtTime(.22,e.currentTime),s.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+1),t.start(),t.stop(e.currentTime+1),setTimeout(()=>{var t;return null===(t=e.close)||void 0===t?void 0:t.call(e)},1200)}catch(l){}try{var i,n;null===(i=(n=navigator).vibrate)||void 0===i||i.call(n,150)}catch(c){}null===o||void 0===o||o()}else k()},250)}return(0,a.useEffect)(()=>(clearTimeout(j.current),g.current=null,p(!1),v(!1),m(d),()=>clearTimeout(j.current)),[d]),(0,r.jsxs)("div",{className:"exercise-card timer ".concat("angry"===c?"angryX":"inspiredX"," ").concat(x?"celebrate":""),id:t,children:[(0,r.jsxs)("div",{className:"ex-top",children:[(0,r.jsx)("span",{className:"ex-emoji","aria-hidden":"true",children:s}),(0,r.jsxs)("span",{className:"ex-mins",children:[Math.ceil(u/60),"m"]})]}),(0,r.jsx)("div",{className:"timer-ring ".concat(c),style:{background:"conic-gradient(var(--ring-accent) ".concat(y,"deg, var(--ring-track) 0)")},role:"progressbar","aria-label":"".concat(i," progress"),"aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":d-u,children:(0,r.jsxs)("div",{className:"timer-core",children:[(0,r.jsxs)("div",{className:"timer-time","aria-live":"polite",children:[N,":",w]}),(0,r.jsx)("div",{className:"timer-label",children:i})]})}),(0,r.jsx)("p",{className:"timer-desc",children:n}),(0,r.jsxs)("div",{className:"timer-controls",children:[h?(0,r.jsx)("button",{className:"ex-btn ghost",onClick:function(){p(!1),clearTimeout(j.current),g.current=null},children:"Pause"}):(0,r.jsx)("button",{className:"ex-btn",onClick:function(){f.current=!0,v(!1),m(e=>0===e?d:e),p(!0),g.current=Date.now()+1e3*(0===u?d:u),k()},children:u===d||0===u?"Start":"Resume"}),(0,r.jsx)("button",{className:"ex-btn subtle",onClick:function(){p(!1),v(!1),clearTimeout(j.current),g.current=null,m(d)},disabled:!f.current&&u===d,children:"Reset"})]})]})}},373:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(555),r=s(43),i=s(596),n=s(338),l=s(142),c=s(769),o=s(579);const d=[{id:"breathe-6",emoji:"\ud83c\udf2c\ufe0f",title:"6-Min Breathing",desc:"Inhale 4 \u2022 exhale 6 \u2022 soften shoulders.",mins:6},{id:"note-7",emoji:"\ud83d\udd8a\ufe0f",title:"Name & Note",desc:"Name the feeling; write 3 sentences.",mins:7},{id:"step-8",emoji:"\ud83d\udeb6",title:"Gentle Walk",desc:"Slow walk, eyes open, notice 5 things.",mins:8},{id:"tea-5",emoji:"\ud83c\udf75",title:"Warm Tea Ritual",desc:"Brew \u2022 hold \u2022 sip mindfully.",mins:5}];function u(){const e=Array.isArray(c.z)?c.z:Array.isArray(c.A)?c.A:[],t=e.filter(e=>"sad"===e.mood),s=t.length>0?t:e,[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[x,v]=(0,r.useState)("popular"),[j,g]=(0,r.useState)("all");(0,r.useEffect)(()=>{const e=setTimeout(()=>p(u.trim().toLowerCase()),140);return()=>clearTimeout(e)},[u]);const{categories:f,counts:N}=(0,r.useMemo)(()=>{const e=s.reduce((e,t)=>{const s=t.category||"Other";return e[s]=(e[s]||0)+1,e},{});return{categories:["all",...Object.keys(e).sort((t,s)=>(e[s]||0)-(e[t]||0))],counts:e}},[s]),w=(0,r.useMemo)(()=>{let e=[...s];if("all"!==j&&(e=e.filter(e=>(e.category||"Other")===j)),h){const t=h;e=e.filter(e=>{var s,a;return e.name.toLowerCase().includes(t)||(null===(s=e.tagline)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(a=e.tags)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(t)))})}switch(x){case"price-asc":e.sort((e,t)=>e.price-t.price);break;case"price-desc":e.sort((e,t)=>t.price-e.price);break;case"rating":e.sort((e,t)=>{var s,a;return(null!==(s=t.rating)&&void 0!==s?s:0)-(null!==(a=e.rating)&&void 0!==a?a:0)});break;default:e.sort((e,t)=>{var s,a;return(null!==(s=t.reviews)&&void 0!==s?s:0)-(null!==(a=e.reviews)&&void 0!==a?a:0)})}return e},[s,h,x,j]),b=w.length,y=(0,r.useRef)(null);function k(){m(""),p(""),g("all"),v("popular")}return(0,r.useEffect)(()=>{y.current&&(y.current.textContent="".concat(b," result").concat(1===b?"":"s"))},[b]),(0,o.jsxs)("div",{className:"page sad-page pretty",children:[(0,o.jsxs)("header",{className:"mood-hero sad",children:[(0,o.jsx)(l.A,{variant:"sad",count:24}),(0,o.jsxs)("div",{className:"inner",children:[(0,o.jsx)("h1",{children:"\ud83d\ude14 Sad"}),(0,o.jsx)("p",{children:"Gentle, cozy tools and micro-rituals for heavy days."})]})]}),0===t.length&&(0,o.jsx)("div",{className:"section-wide",children:(0,o.jsxs)("div",{className:"empty-hint",children:["Showing general picks \u2014 add products with ",(0,o.jsx)("code",{children:'mood: "sad"'})," in ",(0,o.jsx)("code",{children:"data/products.js"})," to curate this page."]})}),(0,o.jsx)("div",{className:"section-wide sticky-filters",children:(0,o.jsxs)("div",{className:"filters",role:"region","aria-label":"Filters",children:[(0,o.jsx)("input",{className:"filter-input",placeholder:"Search cozy helpers\u2026",value:u,onChange:e=>m(e.target.value),"aria-label":"Search products"}),(0,o.jsxs)("select",{className:"filter-select",value:x,onChange:e=>v(e.target.value),"aria-label":"Sort products",children:[(0,o.jsx)("option",{value:"popular",children:"Most popular"}),(0,o.jsx)("option",{value:"rating",children:"Top rated"}),(0,o.jsx)("option",{value:"price-asc",children:"Price: low \u2192 high"}),(0,o.jsx)("option",{value:"price-desc",children:"Price: high \u2192 low"})]}),(0,o.jsxs)("div",{className:"chips",role:"listbox","aria-label":"Filter by category",children:[f.map(e=>{const t="all"===e,a=t?s.length:N[e]||0,r=j===e;return(0,o.jsxs)("button",{className:"chip ".concat(r?"active":""),onClick:()=>g(t=>t===e?"all":e),"aria-pressed":r,title:t?"All categories":"".concat(e," (").concat(a,")"),children:[e,(0,o.jsxs)("span",{style:{opacity:.8,marginLeft:6},children:["\xb7 ",a]})]},e)}),(u||"all"!==j||"popular"!==x)&&(0,o.jsx)("button",{className:"chip",onClick:k,title:"Clear filters",children:"Reset"})]}),(0,o.jsx)("span",{style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},"aria-live":"polite",ref:y})]})}),(0,o.jsx)("section",{className:"section-wide",children:0===b?(0,o.jsxs)("div",{className:"empty-hint",children:["No matches. Try a different keyword or reset filters.",(0,o.jsx)("div",{style:{marginTop:6},children:(0,o.jsx)("button",{className:"chip",onClick:k,children:"Reset filters"})})]}):(0,o.jsx)("div",{className:"product-grid",children:w.map(e=>(0,o.jsx)(i.A,{product:e},e.id))})}),(0,o.jsx)("section",{className:"section-wide exercises",children:(0,o.jsxs)("div",{className:"inner",children:[(0,o.jsx)("h2",{className:"ex-title",children:"Gentle Reset"}),(0,o.jsx)("div",{className:"exercise-grid",children:d.map(e=>(0,o.jsx)(n.A,(0,a.A)((0,a.A)({},e),{},{accent:"inspired"}),e.id))})]})})]})}}}]);
//# sourceMappingURL=373.2c865c0b.chunk.js.map