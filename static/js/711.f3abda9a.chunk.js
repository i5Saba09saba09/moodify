"use strict";(self.webpackChunkmoodify=self.webpackChunkmoodify||[]).push([[711],{338:(e,t,i)=>{i.d(t,{A:()=>a});var r=i(43),s=i(579);function a(e){let{id:t,emoji:i,title:a,desc:n,mins:c=5,accent:l="inspired",onComplete:o}=e;const d=Math.max(1,Math.round(60*Number(c))),[u,m]=(0,r.useState)(d),[h,p]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),g=(0,r.useRef)(null),j=(0,r.useRef)(null),f=(0,r.useRef)(!1),y=String(Math.floor(u/60)).padStart(2,"0"),b=String(u%60).padStart(2,"0"),N=(0,r.useMemo)(()=>(d-u)/d,[u,d]),w=Math.round(360*Math.min(1,Math.max(0,N)));function k(){clearTimeout(g.current),g.current=setTimeout(()=>{var e;const t=Date.now(),i=null!==(e=j.current)&&void 0!==e?e:t,r=Math.max(0,Math.ceil((i-t)/1e3));if(m(r),r<=0){p(!1),v(!0),j.current=null;try{var s;const e=new(window.AudioContext||window.webkitAudioContext);"suspended"===e.state&&(null===(s=e.resume)||void 0===s||s.call(e));const t=e.createOscillator(),i=e.createGain();t.type="sine",t.frequency.value=880,t.connect(i),i.connect(e.destination),i.gain.setValueAtTime(.22,e.currentTime),i.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+1),t.start(),t.stop(e.currentTime+1),setTimeout(()=>{var t;return null===(t=e.close)||void 0===t?void 0:t.call(e)},1200)}catch(c){}try{var a,n;null===(a=(n=navigator).vibrate)||void 0===a||a.call(n,150)}catch(l){}null===o||void 0===o||o()}else k()},250)}return(0,r.useEffect)(()=>(clearTimeout(g.current),j.current=null,p(!1),v(!1),m(d),()=>clearTimeout(g.current)),[d]),(0,s.jsxs)("div",{className:"exercise-card timer ".concat("angry"===l?"angryX":"inspiredX"," ").concat(x?"celebrate":""),id:t,children:[(0,s.jsxs)("div",{className:"ex-top",children:[(0,s.jsx)("span",{className:"ex-emoji","aria-hidden":"true",children:i}),(0,s.jsxs)("span",{className:"ex-mins",children:[Math.ceil(u/60),"m"]})]}),(0,s.jsx)("div",{className:"timer-ring ".concat(l),style:{background:"conic-gradient(var(--ring-accent) ".concat(w,"deg, var(--ring-track) 0)")},role:"progressbar","aria-label":"".concat(a," progress"),"aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":d-u,children:(0,s.jsxs)("div",{className:"timer-core",children:[(0,s.jsxs)("div",{className:"timer-time","aria-live":"polite",children:[y,":",b]}),(0,s.jsx)("div",{className:"timer-label",children:a})]})}),(0,s.jsx)("p",{className:"timer-desc",children:n}),(0,s.jsxs)("div",{className:"timer-controls",children:[h?(0,s.jsx)("button",{className:"ex-btn ghost",onClick:function(){p(!1),clearTimeout(g.current),j.current=null},children:"Pause"}):(0,s.jsx)("button",{className:"ex-btn",onClick:function(){f.current=!0,v(!1),m(e=>0===e?d:e),p(!0),j.current=Date.now()+1e3*(0===u?d:u),k()},children:u===d||0===u?"Start":"Resume"}),(0,s.jsx)("button",{className:"ex-btn subtle",onClick:function(){p(!1),v(!1),clearTimeout(g.current),j.current=null,m(d)},disabled:!f.current&&u===d,children:"Reset"})]})]})}},711:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var r=i(555),s=i(43),a=i(596),n=i(338),c=i(142),l=i(769),o=i(579);const d=[{id:"grat-5",emoji:"\ud83d\udcdd",title:"3 Gratitudes",desc:"Write 3 oddly-specific gratitudes.",mins:5},{id:"smile-3",emoji:"\ud83d\ude0a",title:"Smile Set",desc:"Hold a gentle smile, breathe 4-4.",mins:3},{id:"dance-6",emoji:"\ud83d\udc83",title:"Micro-Dance",desc:"1 song, goofy moves, no judging.",mins:6},{id:"ping-7",emoji:"\ud83d\udce8",title:"Kind Ping",desc:"Send 1 kind text to someone.",mins:7}];function u(){const e=Array.isArray(l.z)?l.z:Array.isArray(l.A)?l.A:[],t=e.filter(e=>"happy"===e.mood),i=t.length>0?t:e,[u,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[x,v]=(0,s.useState)("popular"),[g,j]=(0,s.useState)("all");(0,s.useEffect)(()=>{const e=setTimeout(()=>p(u.trim().toLowerCase()),140);return()=>clearTimeout(e)},[u]);const{categories:f,counts:y}=(0,s.useMemo)(()=>{const e=i.reduce((e,t)=>{const i=t.category||"Other";return e[i]=(e[i]||0)+1,e},{});return{categories:["all",...Object.keys(e).sort((t,i)=>(e[i]||0)-(e[t]||0))],counts:e}},[i]),b=(0,s.useMemo)(()=>{let e=[...i];if("all"!==g&&(e=e.filter(e=>(e.category||"Other")===g)),h){const t=h;e=e.filter(e=>{var i,r;return e.name.toLowerCase().includes(t)||(null===(i=e.tagline)||void 0===i?void 0:i.toLowerCase().includes(t))||(null===(r=e.tags)||void 0===r?void 0:r.some(e=>e.toLowerCase().includes(t)))})}switch(x){case"price-asc":e.sort((e,t)=>e.price-t.price);break;case"price-desc":e.sort((e,t)=>t.price-e.price);break;case"rating":e.sort((e,t)=>{var i,r;return(null!==(i=t.rating)&&void 0!==i?i:0)-(null!==(r=e.rating)&&void 0!==r?r:0)});break;default:e.sort((e,t)=>{var i,r;return(null!==(i=t.reviews)&&void 0!==i?i:0)-(null!==(r=e.reviews)&&void 0!==r?r:0)})}return e},[i,h,x,g]),N=b.length,w=(0,s.useRef)(null);function k(){m(""),p(""),j("all"),v("popular")}return(0,s.useEffect)(()=>{w.current&&(w.current.textContent="".concat(N," result").concat(1===N?"":"s"))},[N]),(0,o.jsxs)("div",{className:"page happy-page pretty",children:[(0,o.jsxs)("header",{className:"mood-hero happy",children:[(0,o.jsx)(c.A,{variant:"happy",count:26,speed:1,parallax:!0}),(0,o.jsxs)("div",{className:"inner",children:[(0,o.jsx)("h1",{children:"\ud83d\ude0a Happy"}),(0,o.jsx)("p",{children:"Keep the good vibes rolling with upbeat picks and tiny joy breaks."})]})]}),0===t.length&&(0,o.jsx)("div",{className:"section-wide",children:(0,o.jsxs)("div",{className:"empty-hint",children:["Showing general picks \u2014 add products with ",(0,o.jsx)("code",{children:'mood: "happy"'})," in ",(0,o.jsx)("code",{children:"data/products.js"})," to curate this page."]})}),(0,o.jsx)("div",{className:"section-wide sticky-filters",children:(0,o.jsxs)("div",{className:"filters",role:"region","aria-label":"Filters",children:[(0,o.jsx)("input",{className:"filter-input",placeholder:"Search feel-good gear\u2026",value:u,onChange:e=>m(e.target.value),"aria-label":"Search products"}),(0,o.jsxs)("select",{className:"filter-select",value:x,onChange:e=>v(e.target.value),"aria-label":"Sort products",children:[(0,o.jsx)("option",{value:"popular",children:"Most popular"}),(0,o.jsx)("option",{value:"rating",children:"Top rated"}),(0,o.jsx)("option",{value:"price-asc",children:"Price: low \u2192 high"}),(0,o.jsx)("option",{value:"price-desc",children:"Price: high \u2192 low"})]}),(0,o.jsxs)("div",{className:"chips",role:"listbox","aria-label":"Filter by category",children:[f.map(e=>{const t="all"===e,r=t?i.length:y[e]||0,s=g===e;return(0,o.jsxs)("button",{className:"chip ".concat(s?"active":""),onClick:()=>j(t=>t===e?"all":e),"aria-pressed":s,title:t?"All categories":"".concat(e," (").concat(r,")"),children:[e,(0,o.jsxs)("span",{style:{opacity:.8,marginLeft:6},children:["\xb7 ",r]})]},e)}),(u||"all"!==g||"popular"!==x)&&(0,o.jsx)("button",{className:"chip",onClick:k,title:"Clear filters",children:"Reset"})]}),(0,o.jsx)("span",{style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},"aria-live":"polite",ref:w})]})}),(0,o.jsx)("section",{className:"section-wide",children:0===N?(0,o.jsxs)("div",{className:"empty-hint",children:["No matches. Try different keywords, or reset filters.",(0,o.jsx)("div",{style:{marginTop:6},children:(0,o.jsx)("button",{className:"chip",onClick:k,children:"Reset filters"})})]}):(0,o.jsx)("div",{className:"product-grid",children:b.map(e=>(0,o.jsx)(a.A,{product:e},e.id))})}),(0,o.jsx)("section",{className:"section-wide exercises",children:(0,o.jsxs)("div",{className:"inner",children:[(0,o.jsx)("h2",{className:"ex-title",children:"Little Joy Boosts"}),(0,o.jsx)("div",{className:"exercise-grid",children:d.map(e=>(0,o.jsx)(n.A,(0,r.A)((0,r.A)({},e),{},{accent:"inspired"}),e.id))})]})})]})}}}]);
//# sourceMappingURL=711.f3abda9a.chunk.js.map